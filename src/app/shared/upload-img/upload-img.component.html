<i class="top-border-triangle"></i>
<main>
  <div id="upload-title">
    <span>本地上传</span>
    <button mat-icon-button id="close" (click)="close()">
      <i class="material-icons" matTooltip="关闭">close</i>
    </button>
  </div>
  <p id="upload-tip">最多选择8张图片上传
    <button *ngIf="uploadImgs.length>0" color="primary" class="app-sm-btn" mat-raised-button id="upload-mood-img" (click)="close()">
      上传
    </button>
  </p>
  <div [ngBusy]="{busy:[uploadSubscribe,deleteSubscribe],message:'处理中,请稍候...'}"></div>
  <div id="upload-img-div" dnd-sortable-container [sortableData]="uploadImgs">
    <div class="mood-img-wrapper" dnd-sortable [sortableIndex]="i"  *ngFor="let imgSrc of uploadImgs;let i = index">
      <img class="pre-send-img" [src]="imgSrc|imgPath:'upload-mood-narrow'">
      <div class="img-operation-wrapper">
          <i class="material-icons delete-img-i" matTooltip="删除" (click)="deleteMoodImg(i)">delete</i>
      </div>
    </div>
    <a class="upload" *ngIf="uploadImgs.length<8">
      <i class="material-icons">add</i>
      <input (change)="upload($event)" accept="image/gif,image/jpeg,image/jpg,image/png" multiple   type="file"  >
    </a>

  </div>
</main>

